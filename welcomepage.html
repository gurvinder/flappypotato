<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head><title>Flappy Potato</title></head>
  <body onload="requestAnimationFrame(animate)">

<canvas id="canvas" width=800 height=500 style="position:absolute "></canvas>
    <script>
        let canvas=document.getElementById("canvas");
        let context = canvas.getContext("2d");
        let frame = 0;
        let horizontalgap = 225;
        let verticalgap = 0
        let allObstacles=[];
        let userImage = new Image()
        userImage.src = 'static/imgs/potato.png';
        let userProperties = {x: 0, y: 0, width: 0, height: 0};

        function animate(time){
          frame++;
          if(frame == 1 || frame % horizontalgap == 0){
            //var a = Math.floor(Math.random() * (Math.floor(max) - Math.floor(50))) + Math.floor(50);
            allObstacles.push({x: canvas.width, y: 0, width:40, height: 175, velocity: -1});
            allObstacles.push({x: canvas.width, y: canvas.height-195, width:40, height: canvas.height, velocity: -1});}

          for(let i = 0; i < allObstacles.length; i++){
            allObstacles[i].x += allObstacles[i].velocity;}

          if(allObstacles.length >= 10){allObstacles.shift();}

          context.clearRect(0, 0, canvas.width, canvas.height);
          context.fillStyle = "#000000";
          context.fillRect(0, 0, canvas.width, canvas.height);
          animateObstacles();
          animateUser();
          requestAnimationFrame(animate);}

        function animateObstacles(){
          for(let i = 0; i < allObstacles.length; i++){
              context.fillStyle = "#00ff00";
              context.fillRect(allObstacles[i].x, allObstacles[i].y, allObstacles[i].width, allObstacles[i].height);}}

        function animateUser(){context.drawImage(userImage, 0, 0, 125, 125);}

        function collisionDetection(){
          let leftUserAnchor = userProperties.x;
          let rightUserAnchor = userProperties.x + userProperties.width;
          let topUserAnchor = userProperties.y;
          let bottomUserAnchor = userProperties.y + userProperties.height;
          for (let i = 0; i < allObstacles.length; i++){
        //     // if(leftUserAnchor > ){
        //     //
        //     if ((mybottom < othertop) || (mytop > otherbottom) || (myright < otherleft) || (myleft > otherright)) {
        //     crash = false;
        // }
        //     // }
          }
        }
    </script></body></html>